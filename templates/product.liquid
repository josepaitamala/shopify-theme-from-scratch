{% comment %}
    templates/product.liquid
    Simple product page: image left, details right, title, price, add to cart.
    Uses placeholder content when product or images are missing.
{% endcomment %}

<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>{{ product.title | default: "Product Title" }}</title>

    <style>
        :root{
            --gap: 24px;
            --max-width: 1100px;
            --accent: #0070f3;
            --muted: #6b7280;
            --radius: 8px;
        }

        body{
            font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
            margin: 0;
            padding: 32px;
            background: #fff;
            color: #111827;
            display: flex;
            justify-content: center;
        }

        .product-page{
            width: 100%;
            max-width: var(--max-width);
            display: flex;
            gap: var(--gap);
            align-items: flex-start;
        }

        /* Two-column layout: media left, details right */
        .product-media{
            flex: 1 1 50%;
            min-width: 320px;
            display: flex;
            align-items: start;
            justify-content: center;
        }

        .product-media img{
            width: 100%;
            height: auto;
            max-width: 600px;
            border-radius: var(--radius);
            object-fit: cover;
            box-shadow: 0 6px 24px rgba(15,23,42,0.06);
        }

        .product-details{
            flex: 1 1 50%;
            min-width: 280px;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .product-title{
            font-size: 1.625rem;
            line-height: 1.15;
            margin: 0;
        }

        .product-price{
            font-size: 1.25rem;
            font-weight: 600;
            color: #08122a;
            margin: 4px 0 12px 0;
        }

        .product-description{
            color: var(--muted);
            font-size: 0.98rem;
            line-height: 1.5;
            margin-bottom: 12px;
        }

        .product-form{
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 8px;
        }

        .quantity{
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .quantity input[type="number"]{
            width: 80px;
            padding: 8px;
            border-radius: 6px;
            border: 1px solid #e5e7eb;
            font-size: 1rem;
        }

        .add-to-cart{
            background: var(--accent);
            color: #fff;
            border: none;
            padding: 12px 16px;
            font-size: 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: background .15s ease;
        }

        .add-to-cart:disabled{
            background: #cfe4ff;
            cursor: not-allowed;
        }

        .meta{
            font-size: 0.9rem;
            color: var(--muted);
        }

        @media (max-width: 880px){
            body{ padding: 20px; }
            .product-page{ flex-direction: column; gap: 18px; }
            .product-media, .product-details{ min-width: auto; }
        }
    </style>
</head>
<body>
    <main class="product-page" role="main">
        <section class="product-media" aria-label="Product images">
            {% if product and product.featured_image %}
                <img src="{{ product.featured_image | img_url: '1024x1024' }}" alt="{{ product.title | escape }}">
            {% else %}
                <img src="https://placehold.co/800x800" alt="Placeholder product image">
            {% endif %}
        </section>

        <section class="product-details" aria-label="Product details">
            <h1 class="product-title">{{ product.title }}</h1>

            <div class="product-price">
                {% if product %}
                    {% assign variant = product.selected_or_first_available_variant %}
                    {% if variant and variant.price %}
                        {{ variant.price | money }}
                    {% else %}
                        {{ product.price | default: 0 | money }}
                    {% endif %}
                {% endif %}
            </div>

            <div class="product-description">
                {% if product and product.description != blank %}
                    {{ product.description }}
                {% endif %}
            </div>

            {% form 'product', product %}
                <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
                <label class="meta" for="quantity">Quantity</label>
                <div class="quantity">
                    <input id="quantity" name="quantity" type="number" min="1" value="1" inputmode="numeric" aria-label="Quantity">
                </div>

                {% if product.available %}
                    <button type="submit" class="add-to-cart">Add to cart</button>
                {% else %}
                    <button type="button" class="add-to-cart" disabled>Sold out</button>
                {% endif %}
            {% endform %}

            <div class="meta">
                SKU: {{ product.selected_or_first_available_variant.sku | default: "N/A" }}
            </div>
        
        </section>
    </main>
</body>
</html>